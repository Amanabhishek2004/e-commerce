<!DOCTYPE html>
<html lang="en">

<style>
    .product-card .button-container {
        display: flex; /* Use flexbox to align buttons in the same line */
       padding-left:550px;
        text-align: center;
        justify-content:space-between;
        padding-right:520px;
        margin-top: 10px;
    }
    body {
        background-color: #1a1a1a;
        color: #ffffff;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
    }
    
    header {
        /* Add header styling */
    }
    
    main {
        padding: 20px;
    }
    

    .product-display .
    

    
        
    
    .product-display {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }
    
    .product-card {
        background-color: #2b2b2b;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
    }
    
    .product-card img {
        max-width: 100%;
        height: auto;
    }
    
    .product-card h3 {
        margin-top: 10px;
        margin-bottom: 5px;
    }
    
    .product-card p {
        font-size: 14px;
    }
    
    .product-card .price {
        font-size: 18px;
        font-weight: bold;
    }
    
    .product-card .btn {
        background-color: #ff6600;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 10px;
    }
    
    .product-card .btn:hover {
        background-color: #ff5500;
    }
    
    .product-reviews {
        margin-top: 30px;
    }
    
    .product-reviews h2 {
        margin-bottom: 20px;
    }
    
    .product-reviews form label {
        display: block;
        margin-bottom: 5px;
    }
    
    .product-reviews form input,
    .product-reviews form textarea {
        width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border: 1px solid #444444;
        background-color: #2b2b2b;
        color: #ffffff;
    }
    
    .product-reviews form textarea {
        resize: vertical;
    }
    
    .product-reviews .btn {
        background-color: #ff6600;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
    }
    
    .product-reviews .btn:hover {
        background-color: #ff5500;
    }
    
    .review {
        margin-bottom: 20px;
        border: 1px solid #444444;
        border-radius: 8px;
        padding: 15px;
        background-color: #2b2b2b;
    }
    
    .review .review-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .review .username {
        font-weight: bold;
    }
/*     
    .review .rating {
        background-color: #444444;
        color: #ffffff;
        padding: 5px 10px;
        border-radius: 4px;
    } */


    .review.rating{
        background-color:#444444;
    width: 1133px;
    height: 17px;
    margin-left: 12%;
    font-size: 20px;
    padding: 16px 16px;
    border-radius: 10px;
    border-color: black;
    margin-bottom: 25px;
    
    }

    input{
    background-color: #444444;
    /* width: 70%; */
    /* margin-left: 12%; */
    font-size: 20px;
    /* padding: 16px 16px; */
    border-radius: 10px;
    /* border-color: black; */
    margin-bottom: 20px;
}
    input:focus-within{
    outline: none;
    border-color: black;
    border-width: 3px;
    background-color: #444444;
}
    textarea{
    background-color:#444444;
    width: 1113px;
    height: 17px;
    margin-left: 1%;
    font-size: 20px;

    padding: 16px 16px;
    border-radius: 10px;
    border-color: black;
    margin-bottom: 25px;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

textarea :placeholder-shown{
    font-size: medium;
    text-align: center;
}

.btns{
    background-color: #ff6600;
    border-radius: 4px;
    background-color: #ff6600;
        color: #ffffff;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
    
}
    .out-of-sale-btn {
          background-color: #ccc;
          color: red;
          border: none;
          padding: 10px 20px;
          border-radius: 4px;
          cursor: not-allowed;
        }
        .in-sale-btn {
          background-color: #ccc;
          color: green;
          border: none;
          padding: 10px 20px;
          border-radius: 4px;
          cursor: not-allowed;
        }


/* Add footer styling */



</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Theme E-commerce Site</title>
   
</head>
<body>
    <header>
        <!-- Add your logo and navigation menu here -->
    </header>

    <main>
        <section class="product-display">
            <!-- Product cards will be dynamically generated from backend data -->
            <div class="product-card">
                <img src="product1.jpg" alt="Product 1">
                <h3>{{J.name}}</h3>
                <p>{{J.type}}</p>
                <span class="price">{{J.price}}</span>
                
                
            <div class="button-container">
                <form action="{% url 'add_item' J.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn">Add to Cart</button>
                </form> 

                
                <a href="{% url 'buy_item' J.id %}"><button type="submit" class="btn">Buy Now</button></a>
                
            </div>
                <br>
                <br>

                {% if J.for_sale == 0 %}
            <button class="out-of-sale-btn" disabled>Out of Stock</button>
            <br>
            <br>
            {% else %}
            <button class="in-sale-btn" disabled>In Stock </button>
            <br>
            <br>
            {% endif %}
            </div>
            
            <!-- Repeat the product cards for each product -->
        </section>

         
    <!-- Review writing form -->
    <h2>Write a Review</h2>
    <div class = "review">
    <form action = "{% url 'review' J.id %}" method ="POST">
     {% csrf_token %}
        <label for="rating">Rating:</label>
        <input type="number" id="rating" name="rating" min="1" max="5" required><br>
        <label for="review"></label>
        <textarea id="review" name="review" rows="4"placeholder="write your review" required></textarea>

        <button type="submit" class="btns">Submit Review</button>
    </form>
</div>

    <!-- Review display section -->
    <h2>Product Reviews</h2>
    {% for i in obj %}
    <div class="review">
        <div class="review-header">
            <span class="username">{{i.user.username}}</span>
            <span class="rating">{{i.rating}}/5</span>
        </div>
        <p class="review-content">
            {{i.body}}
        </p>
    </div>
    {% endfor %}


            <!-- Repeat the review display for each review -->
        </section>
    </main>

    <footer>
        <!-- Add your footer content here -->
    </footer>
</body>
</html>
